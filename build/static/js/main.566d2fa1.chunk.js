(window["webpackJsonpreact-phone-book"]=window["webpackJsonpreact-phone-book"]||[]).push([[0],{44:function(e,t,n){e.exports=n(61)},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(19),c=n.n(o),i=n(16),l=n(20),s=n(34),u=n(21),p=function(e){localStorage.phoneList=JSON.stringify(e)};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f={items:function(){return"undefined"===typeof localStorage.phoneList&&(localStorage.phoneList=JSON.stringify([{id:1,name:"ivan",phone:"+7(912)123-45-67"},{id:2,name:"petr",phone:"+7-912-333-333-33"},{id:3,name:"roman",phone:"8912123456"}])),JSON.parse(localStorage.phoneList)}(),filteredItems:[],errors:{}};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y={query:""},O=Object(l.b)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM":t.payload.name=t.payload.name.trim(),t.payload.phone=t.payload.phone.trim();var n={};e.errors={};var r=e.items.find(function(e){return e.name===t.payload.name||e.phone===t.payload.phone});return r&&(n.form="\u0437\u0430\u043f\u0438\u0441\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0438\u043b\u0438 \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),t.payload.name||(n.name="\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0438\u043c\u044f"),t.payload.phone||(n.phone="\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),t.payload.phone.match(/[^0-9-)(+]/i)&&(n.phone="\u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b",n.form="\u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"),Object.keys(n).length>0?h({},e,{errors:n}):(p([].concat(Object(s.a)(e.items),[t.payload])),h({},e,{items:[].concat(Object(s.a)(e.items),[t.payload]),status:"success"}));case"REMOVE_ITEM":return e.items.splice(e.items.findIndex(function(e){return e.id===parseInt(t.payload)}),1),p(e.items),h({},e,{items:e.items});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return b({},e,{query:t.payload});default:return e}}}),j=Object(l.c)(O),v=n(5),g=n(6),E=n(8),w=n(7),k=n(9),I=n(68),C=n(42),P=n(69),S=n(43),D=function(e){function t(){var e,n;Object(v.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).onChange=function(e){n.props.setQuery(e.target.value)},n}return Object(k.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return console.log("Search render"),a.a.createElement(I.a,{bg:"light",expand:"lg"},a.a.createElement(C.a,{sm:"auto"},a.a.createElement(I.a.Brand,{href:"/"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a")),a.a.createElement(C.a,null,a.a.createElement(P.a,null,a.a.createElement(S.a,{type:"text",name:"query",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0438\u043b\u0438 \u043d\u043e\u043c\u0435\u0440\u0443",className:"",defaultValue:this.props.query,onChange:this.onChange}))))}}]),t}(a.a.Component),N=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){console.log("SearchContainer render",this.props);var e=this.props,t=e.search,n=e.setQuery;return a.a.createElement("div",{className:"phone-search-container"},a.a.createElement(D,{query:t.query,setQuery:n}))}}]),t}(a.a.Component),q=Object(i.b)(function(e){return{search:e.search}},function(e){return{setQuery:function(t){return e(function(e){return{type:"SEARCH",payload:e}}(t))}}})(N),M=n(63),A=function(e){function t(){var e,n;Object(v.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){n.props.removeItem(e)},n}return Object(k.a)(t,e),Object(g.a)(t,[{key:"createMarkup",value:function(e){return{__html:e}}},{key:"render",value:function(){var e=this;return console.log("list render"),a.a.createElement(M.a,{responsive:!0},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"\u0418\u043c\u044f"),a.a.createElement("th",null,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),a.a.createElement("th",null,"#"))),a.a.createElement("tbody",null,this.props.filteredItems.map(function(t){return a.a.createElement("tr",{key:t.id},a.a.createElement("td",{dangerouslySetInnerHTML:e.createMarkup(t.name),className:"name"}),a.a.createElement("td",{dangerouslySetInnerHTML:e.createMarkup(t.phone),className:"phone"}),a.a.createElement("td",null,a.a.createElement("button",{type:"button",className:"close float-none","aria-label":"Close",onClick:function(){return e.handleClick(t.id)}},a.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))})))}}]),t}(a.a.Component);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var x=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){console.log("ListContainer render",this.props);var e=this.props,t=e.list,n=e.removeItem;return a.a.createElement("div",{className:"phone-list-container"},a.a.createElement(A,{filteredItems:t.filteredItems,removeItem:n,test:t.test}))}}]),t}(a.a.Component),T=Object(i.b)(function(e){var t=!1;return e.search.query&&(e.search.query=e.search.query.trim(),console.time("filtered"),t=[],e.list.items.forEach(function(n){var r=n.name.toLowerCase().indexOf(e.search.query.toLowerCase());if(r>-1){var a=n.name.split("");a.splice(r,0,"<b>"),a.splice(r+e.search.query.length+1,0,"</b>"),t.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n,{name:a.join("")}))}(r=n.phone.toLowerCase().replace(/[^0-9]/gim,"").indexOf(e.search.query.toLowerCase()))>-1&&t.push(n)}),console.timeEnd("filtered")),e.list.filteredItems=t||e.list.items,{list:e.list,search:e.search}},function(e){return{removeItem:function(t){return e(function(e){return{type:"REMOVE_ITEM",payload:e}}(t))}}})(x),_=n(64),J=n(65),H=n(66),Q=n(67),R=n(70),B=function(e){function t(){var e,n;Object(v.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).submit=function(e){e.preventDefault(),n.props.addItem({id:Date.now(),name:e.target.name.value,phone:e.target.phone.value}),e.target.name.value="",e.target.phone.value=""},n}return Object(k.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){console.log("AddItem render");var e=this.props.errors;return a.a.createElement(_.a,{className:"mt-4 mb-4"},a.a.createElement(J.a,null,a.a.createElement(C.a,{md:{span:8,offset:2}},a.a.createElement("form",{action:"",onSubmit:this.submit},a.a.createElement(H.a,null,a.a.createElement(S.a,{name:"name",autoComplete:"off",placeholder:"\u0418\u043c\u044f",isInvalid:e.name?"true":""}),a.a.createElement(S.a,{name:"phone",autoComplete:"off",placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",isInvalid:e.phone?"true":""}),a.a.createElement(H.a.Append,null,a.a.createElement(Q.a,{variant:"outline-success",type:"submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))),e.form?a.a.createElement(R.a,{variant:"danger",className:"mt-2"},e.form):"")))}}]),t}(a.a.Component),V=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){console.log("AddItemContainer render",this.props);var e=this.props,t=e.addItem,n=e.errors;return a.a.createElement("div",{className:"phone-actions-container"},a.a.createElement(B,{addItem:t,errors:n}))}}]),t}(a.a.Component),W=Object(i.b)(function(e){return{errors:e.list.errors}},function(e){return{addItem:function(t){return e(function(e){return{type:"ADD_ITEM",payload:e}}(t))}}})(V),$=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){document.title="\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a"}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(q,null),a.a.createElement(W,null),a.a.createElement(T,null))}}]),t}(a.a.Component);n(60),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(i.a,{store:j},a.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.566d2fa1.chunk.js.map