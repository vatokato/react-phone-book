(window["webpackJsonpreact-phone-book"]=window["webpackJsonpreact-phone-book"]||[]).push([[0],{19:function(e,t,r){e.exports=r(30)},29:function(e,t,r){},30:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(11),c=r.n(o),i=r(7),s=r(9),l=r(16),u=r(10),p=function(e){localStorage.phoneList=JSON.stringify(e)};function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f={test:"list test",items:function(){return"undefined"===typeof localStorage.phoneList&&(localStorage.phoneList=JSON.stringify([{id:1,name:"ivan",phone:"+7(912)123-45-67"},{id:2,name:"petr",phone:"+7-912-333-333-33"},{id:3,name:"roman",phone:"8912123456"}])),JSON.parse(localStorage.phoneList)}(),filteredItems:[],errors:{}};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O={test:"search test",query:""},b=Object(s.b)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM":t.payload.name=t.payload.name.trim(),t.payload.phone=t.payload.phone.trim();var r={};e.errors={};var n=e.items.find(function(e){return e.name===t.payload.name||e.phone===t.payload.phone});return n&&(r.form="\u0437\u0430\u043f\u0438\u0441\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0438\u043b\u0438 \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),t.payload.name||(r.name="\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0438\u043c\u044f"),t.payload.phone||(r.phone="\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),Object.keys(r).length>0?h({},e,{errors:r}):(p([].concat(Object(l.a)(e.items),[t.payload])),h({},e,{items:[].concat(Object(l.a)(e.items),[t.payload]),status:"success"}));case"REMOVE_ITEM":return e.items.splice(e.items.findIndex(function(e){return e.id===parseInt(t.payload)}),1),p(e.items),h({},e,{items:e.items});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return y({},e,{query:t.payload});default:return e}}}),j=Object(s.c)(b),v=r(1),g=r(2),E=r(4),w=r(3),k=r(5),C=function(e){function t(){var e,r;Object(v.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(E.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).onChange=function(e){r.props.setQuery(e.target.value)},r}return Object(k.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return console.log("Search render"),a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"text",name:"query",autoComplete:"off",defaultValue:this.props.query,onChange:this.onChange,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0438\u043b\u0438 \u043d\u043e\u043c\u0435\u0440\u0443"}))}}]),t}(a.a.Component),I=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){console.log("SearchContainer render",this.props);var e=this.props,t=e.search,r=e.setQuery;return a.a.createElement("div",{className:"phone-search-container"},a.a.createElement(C,{query:t.query,setQuery:r}))}}]),t}(a.a.Component),P=Object(i.b)(function(e){return{search:e.search}},function(e){return{setQuery:function(t){return e(function(e){return{type:"SEARCH",payload:e}}(t))}}})(I),S=function(e){function t(){var e,r;Object(v.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(E.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){console.log(e,r.props.removeItem),r.props.removeItem(e)},r}return Object(k.a)(t,e),Object(g.a)(t,[{key:"createMarkup",value:function(e){return{__html:e}}},{key:"render",value:function(){var e=this;return console.log("list render"),a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,this.props.test),a.a.createElement("div",{className:"phone-list"},this.props.filteredItems.map(function(t){return a.a.createElement("div",{className:"item",key:t.id},a.a.createElement("span",{dangerouslySetInnerHTML:e.createMarkup(t.name),className:"name"}),"-",a.a.createElement("span",{dangerouslySetInnerHTML:e.createMarkup(t.phone),className:"phone"}),"(",a.a.createElement("span",{className:"remove",onClick:function(){return e.handleClick(t.id)}},"x"),")")})))}}]),t}(a.a.Component);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var N=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){console.log("ListContainer render",this.props);var e=this.props,t=e.list,r=e.removeItem;return a.a.createElement("div",{className:"phone-list-container"},a.a.createElement(S,{filteredItems:t.filteredItems,removeItem:r,test:t.test}))}}]),t}(a.a.Component),q=Object(i.b)(function(e){var t=!1;return e.search.query&&(e.search.query=e.search.query.trim(),console.time("filtered"),t=[],e.list.items.forEach(function(r){var n=r.name.toLowerCase().indexOf(e.search.query.toLowerCase());if(n>-1){var a=r.name.split("");a.splice(n,0,"<b>"),a.splice(n+e.search.query.length+1,0,"</b>"),t.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(r,!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r,{name:a.join("")}))}(n=r.phone.toLowerCase().replace(/[^0-9]/gim,"").indexOf(e.search.query.toLowerCase()))>-1&&t.push(r)}),console.timeEnd("filtered")),e.list.filteredItems=t||e.list.items,{list:e.list,search:e.search}},function(e){return{removeItem:function(t){return e(function(e){return{type:"REMOVE_ITEM",payload:e}}(t))}}})(N),A=function(e){function t(){var e,r;Object(v.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(E.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).submit=function(e){e.preventDefault(),r.props.addItem({id:Date.now(),name:e.target.name.value,phone:e.target.phone.value}),e.target.name.value="",e.target.phone.value=""},r}return Object(k.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){console.log("AddItem render");var e=this.props.errors;return a.a.createElement("form",{action:"",onSubmit:this.submit},a.a.createElement("input",{type:"text",name:"name",autoComplete:"off",placeholder:"\u0418\u043c\u044f",className:e.name?"error":""}),a.a.createElement("input",{type:"tel",name:"phone",autoComplete:"off",placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",className:e.phone?"error":""}),a.a.createElement("input",{type:"submit",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"}),e.form?a.a.createElement("div",{className:"form-error"},e.form):"")}}]),t}(a.a.Component),M=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){console.log("AddItemContainer render",this.props);var e=this.props,t=e.addItem,r=e.errors;return a.a.createElement("div",{className:"phone-actions-container"},a.a.createElement(A,{addItem:t,errors:r}))}}]),t}(a.a.Component),L=Object(i.b)(function(e){return{errors:e.list.errors}},function(e){return{addItem:function(t){return e(function(e){return{type:"ADD_ITEM",payload:e}}(t))}}})(M),x=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){document.title="\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a"}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",{className:"App-title"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a")),a.a.createElement("main",null,a.a.createElement(P,null),a.a.createElement("div",{className:"middle"},a.a.createElement(q,null),a.a.createElement(L,null))))}}]),t}(a.a.Component);r(29),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(i.a,{store:j},a.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.55b8662d.chunk.js.map